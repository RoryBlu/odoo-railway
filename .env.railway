# .env.railway
# Environment variables for Railway deployment
# Copy these into Railway → Your Service → Variables

# ============================================================================
# RAILWAY PLATFORM CONFIGURATION
# ============================================================================
# CRITICAL: Railway volumes are mounted as root, but Odoo runs as UID 101
# Setting RAILWAY_RUN_UID=0 allows container to run as root for volume access
# This is the documented Railway solution for volume permission issues
# Reference: https://docs.railway.com/reference/volumes
RAILWAY_RUN_UID=0

# ============================================================================
# DATABASE CONFIGURATION (from Railway Postgres service)
# ============================================================================
# CRITICAL: Odoo Docker has a known PORT variable conflict with cloud platforms
# Railway sets PORT for service listening, but Odoo uses PORT for database connection
# Must explicitly set PORT to database port (workaround for Odoo Docker issue #344)
# Reference: https://github.com/odoo/docker/issues/344

HOST=${{Postgres.PGHOST}}
PORT=${{Postgres.PGPORT}}
POSTGRES_USER=${{Postgres.PGUSER}}
POSTGRES_PASSWORD=${{Postgres.PGPASSWORD}}
# Optional: specify database name (defaults to "postgres")
# POSTGRES_DB=${{Postgres.PGDATABASE}}

# ============================================================================
# OPTIONAL: SMTP CONFIGURATION (Mailgun)
# ============================================================================
# Note: These can also be configured via Odoo web UI after deployment
# Settings > Technical > Outgoing Mail Servers

# Uncomment and configure if you want SMTP at startup:
# SMTP_SERVER=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USER=your-smtp-user@mg.sparkjar.agency
# SMTP_PASSWORD=your-smtp-password
# SMTP_SSL=True
# EMAIL_FROM=Odoo <noreply@sparkjar.agency>

# ============================================================================
# OPTIONAL: ODOO ADMIN PASSWORD
# ============================================================================
# Set this to create/protect the database manager
# ADMIN_PASSWD=your-secure-master-password

# ============================================================================
# PRODUCTION SETTINGS
# ============================================================================
# Disable demo data in production
WITHOUT_DEMO=all

# Database name filter (security - restricts which DBs can be accessed)
# DB_FILTER=^%d$

# Workers (for production performance - set based on Railway plan)
# WORKERS=2

# Log level
# LOG_LEVEL=info
