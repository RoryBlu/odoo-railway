[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Tell Odoo to bind to all interfaces (0.0.0.0) so Railway can healthcheck it
startCommand = "odoo --http-interface=0.0.0.0"
# Run as odoo user (UID 101) for security
# Note: If Railway has issues with UID 101, you may need to remove this line
runAsUser = 101
healthcheckPath = "/web/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[mounts]
"/var/lib/odoo" = { volume = "odoo_data" }