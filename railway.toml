[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# IMPORTANT: Set the start command to use Railway's PORT
startCommand = "odoo --http-port=$PORT"
# Run as odoo user (UID 101) for security
# Note: If Railway has issues with UID 101, you may need to remove this line
runAsUser = 101
healthcheckPath = "/web/database/selector"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[mounts]
"/var/lib/odoo" = { volume = "odoo_data" }